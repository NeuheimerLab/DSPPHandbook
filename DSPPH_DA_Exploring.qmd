---
title: "So you want to: explore your data"
---

# Why you want to do it: 

A first step to data analysis is exploring your data.  Here you will have a first look at the data and identify any errors.

# How you can do it: 

You can run through a series of checks to have a first look at your data.  Here is TData as an example data set:


```{r, echo=FALSE}

TData <- read.csv("ExampleData.csv", # name of data file
                  header=TRUE) # make sure R sees column names (this is the default)


```


## Does it exist?

First thing to do when we read in data is to check that it was read correctly.  One of the simplest things to do is to see if it exists in our workspace (this goes for any object, not only imported data).  We can see what's in our workspace with `ls()` and get a little more information with `ls.str()`.  


## How big is it?

For example, `dim()` gives us the dimensions (number of rows and number of columns) of our data frame:  

```{r}
 dim(TData)
```

## Viewing your data object

Typing the object name will have R trying to print the entire object to your screen, but there are some useful functions to get a look at our objects, without having to see everything.  

Try `head()` and `tail()` to give you a look at the first and last (respectively) few rows of the data frame:  

```{r}

 head(TData)

```

```{r}

 tail(TData)

```

:::{.callout-tip collapse="true" title="Extra"}

The default number of rows `head()` or `tail()` display is 6, but you can change this by providing a second argument (`n = ...`), e.g.:  

```{r}

 head(TData, n = 3) # Show first 3 rows of ChlData

```  

:::


You can also get a quick look at your data by asking for the summary and/or structure.

The `summary()` function gives you a summary of each column:

```{r}

summary(TData)

```

The `str()` function describes the data types in each column:

```{r}

str(TData)

```


## Viewing part of your data object

#### Viewing a specific element of a vector or data frame

An element is one data point.  You can view an element by using the element's position in the object.  You do this using the object name and square brackets `[ ]`.

Since a vector is a *one-dimensional* object ([see also the section on Importing](importing.qmd)), you will only need to give the position of the element.

For example, to get the 3rd element of vector `V3`:

```{r, echo=FALSE}
 
V3 <- c(3.2, 0.9, 2.34, 5.4) # a vector containing numeric decimal values

print(V3)

```

you would use:

```{r}

V3[3]

```

Since a data frame is a *2-dimensional* object, you need to give two positions representing the element's row and column.  You do this again with the square brackets `[ ]` as well as a comma `,` separating the row and column numbers.

For example, with the data frame `DF1`:

```{r, echo=FALSE}

DF1 <- data.frame(Year = rep(x = 2021, times = 3), # define your years
                  Month = c("Jan", "Feb", "Mar"), # define your months
                  Abundance = c(43, 24, 5)) # abundance information

```


```{r}

print(DF1)

```

The Abundance value `24` is in row #2 and column #3, so you access it with:

```{r}

DF1[2,3]

```

Note that you can also access the whole 2nd row with:

```{r}

DF1[2,]

```

and the whole 3rd column with:

```{r}

DF1[,3]

```


Note that in data frames, you can also indicate the column by the column name.  You do this using the `$` symbol. You can also get the 3rd (Abundance) column with:

```{r}

DF1$Abundance

```

and the abundance value 24 is located with

```{r}

DF1$Abundance[2]

```


#### A conditional view of your data 

Sometimes you do not know the location (row and column) of the data you want to find.  Instead you have a condition for the data you want, e.g. which observations include plant height greater than 10cm?  

Let's look at some example data to answer this question:

```{r, echo=FALSE}


set.seed(2021)
n<-20
myDat <- data.frame(PlotID = sample(LETTERS[1:6], 10, replace = TRUE),
                    PlantHeight = round(rnorm(10, 8, 2),1))

print(myDat)

```

There are two ways of finding the obcervations with plant heights greater than 10cm.  The first is to locate the row numbers where the condition is true (plant heights are greater than 10cm).  You can do this with the `which()` function.

```{r}

inds <- which(myDat$PlantHeight > 10) # the row numbers that fulfill the condition

myDat[inds,] # rows meeting the condition


```


Another way to find observations with plant heights greater than 10cm is to use the `subset()` function.  This subsets the data directly to only give you the observations meeting the condition.

```{r}

subset(myDat, PlantHeight > 10)

```


**Useful Logical Functions (operators):**

These functions will help you make conditional statements.  Note that these functions do not look like ["regular" functions in R](functions.qmd).  They are some times called operators instead.

| Operator | Description              |
|---------:|:-------------------------|
|        > | greater than             |
|       >= | greater than or equal to |
|        < | less than                |
|       <= | less than or equal to    |
|       == | exactly equal to         |
|       != | not equal to             |


Note that you can include more than one condition by joining them with either `&` (representing AND) or `|` (representing OR).

For example, you might want to find observations from plant heights greater than 10 cm and only from Plot F.  This can be done with:

```{r}

subset(myDat, PlantHeight > 10 & PlotID == "F")

```

Another example, you might want to find observations with large plants (greater than 10 cm) and small plants (less than 7 cm).  You can do this by finding observations of either one OR the other condition:

```{r}

subset(myDat, PlantHeight > 10 | PlantHeight < 7)

```


:::{.callout-tip collapse="true" title="Extra"}

Another helpful function is `%in%`.  This function checks for membership.  For example, I might want to know which observations are in Plot B, D or C:

```{r}

subset(myDat, PlotID %in% c("B", "C", "D"))

```

Note that this would be the same as using multiple OR (`|`) operators.

```{r}

subset(myDat, PlotID == "B" | PlotID == "C" | PlotID == "D")
         
```

:::



::: footnotes
:::